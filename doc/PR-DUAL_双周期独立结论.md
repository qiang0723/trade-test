# PR-DUAL: åŒå‘¨æœŸç‹¬ç«‹ç»“è®ºæ¶æ„

**ç‰ˆæœ¬**: 1.0  
**æ—¥æœŸ**: 2026-01-21  
**çŠ¶æ€**: âœ… å·²å®ç°

---

## ğŸ“‹ è®¾è®¡åŸåˆ™

æ ¹æ®L1è®¾è®¡åŸåˆ™é‡ç”³ï¼š

> åœ¨ä¸è‡ªåŠ¨ä¸‹å•çš„å‰æä¸‹ï¼Œç”¨ä¸€è‡´å£å¾„çš„æ•°æ®ä¸æˆç†Ÿçš„åˆçº¦äº¤æ˜“é€»è¾‘ï¼Œå¿«é€Ÿã€ç¨³å®šã€å¯è§£é‡Šåœ°è¾“å‡º"ç°åœ¨æ˜¯å¦å­˜åœ¨å¯æ“ä½œçš„å¸‚åœºæœºä¼š"ï¼Œå¹¶ç»™å‡ºæ˜ç¡®ç»“è®ºï¼šåšå¤š / åšç©º / ä¸æ“ä½œï¼ˆä»¥åŠæ˜¯å¦å¯æ‰§è¡Œçš„åˆ†çº§ï¼‰ã€‚

**æ ¸å¿ƒè¦æ±‚**ï¼š

1. **åŒå‘¨æœŸç‹¬ç«‹è¯„ä¼°**ï¼šçŸ­æœŸï¼ˆ5m/15mï¼‰ä¸ä¸­é•¿æœŸï¼ˆ1h/6hï¼‰å„è‡ªç‹¬ç«‹çš„äº¤æ˜“ç»“è®º
2. **ä¸€è‡´æ€§åˆ†æ**ï¼šæ˜ç¡®è¯´æ˜ä¸¤è€…æ˜¯å¦ä¸€è‡´ã€æ˜¯å¦å¯æ‰§è¡Œ
3. **å†²çªå¤„ç†è§„åˆ™**ï¼šå½“ä¸¤è€…å†²çªæ—¶ï¼Œæä¾›æ˜ç¡®çš„å¤„ç†ç­–ç•¥
4. **å‘åå…¼å®¹**ï¼šä¿ç•™å•ä¸€å†³ç­–è¾“å‡ºï¼Œä¾›ç°æœ‰ç³»ç»Ÿä½¿ç”¨

---

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### æ•°æ®ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      DualTimeframeResult                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚ TimeframeConclusion â”‚    â”‚ TimeframeConclusion â”‚             â”‚
â”‚  â”‚   (SHORT_TERM)      â”‚    â”‚   (MEDIUM_TERM)     â”‚             â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤             â”‚
â”‚  â”‚ timeframe: 5m/15m   â”‚    â”‚ timeframe: 1h/6h    â”‚             â”‚
â”‚  â”‚ decision: LONG      â”‚    â”‚ decision: LONG      â”‚             â”‚
â”‚  â”‚ confidence: HIGH    â”‚    â”‚ confidence: MEDIUM  â”‚             â”‚
â”‚  â”‚ executable: true    â”‚    â”‚ executable: false   â”‚             â”‚
â”‚  â”‚ reason_tags: [...]  â”‚    â”‚ reason_tags: [...]  â”‚             â”‚
â”‚  â”‚ key_metrics: {...}  â”‚    â”‚ key_metrics: {...}  â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚              AlignmentAnalysis                        â”‚       â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”‚
â”‚  â”‚ is_aligned: true                                      â”‚       â”‚
â”‚  â”‚ alignment_type: BOTH_LONG                             â”‚       â”‚
â”‚  â”‚ has_conflict: false                                   â”‚       â”‚
â”‚  â”‚ recommended_action: LONG                              â”‚       â”‚
â”‚  â”‚ recommended_confidence: HIGH                          â”‚       â”‚
â”‚  â”‚ recommendation_notes: "âœ… åŒå‘¨æœŸä¸€è‡´çœ‹å¤š"              â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒç±»

#### 1. `TimeframeConclusion`

å•ä¸ªæ—¶é—´å‘¨æœŸçš„äº¤æ˜“ç»“è®ºã€‚

```python
@dataclass
class TimeframeConclusion:
    timeframe: Timeframe              # SHORT_TERM | MEDIUM_TERM
    timeframe_label: str              # "5m/15m" | "1h/6h"
    decision: Decision                # LONG | SHORT | NO_TRADE
    confidence: Confidence            # ULTRA | HIGH | MEDIUM | LOW
    market_regime: MarketRegime       # TREND | RANGE | EXTREME
    trade_quality: TradeQuality       # GOOD | UNCERTAIN | POOR
    execution_permission: ExecutionPermission
    executable: bool
    reason_tags: List[ReasonTag]
    key_metrics: Dict                 # è¯¥å‘¨æœŸä½¿ç”¨çš„å…³é”®æŒ‡æ ‡
```

#### 2. `AlignmentAnalysis`

åŒå‘¨æœŸä¸€è‡´æ€§åˆ†æã€‚

```python
@dataclass
class AlignmentAnalysis:
    is_aligned: bool                  # ä¸¤è€…æ–¹å‘æ˜¯å¦ä¸€è‡´
    alignment_type: AlignmentType     # ä¸€è‡´æ€§ç±»å‹
    has_conflict: bool                # æ˜¯å¦å­˜åœ¨æ–¹å‘å†²çª
    conflict_resolution: Optional[ConflictResolution]
    resolution_reason: str
    recommended_action: Decision      # ç»¼åˆå»ºè®®
    recommended_confidence: Confidence
    recommendation_notes: str
```

#### 3. `DualTimeframeResult`

æœ€ç»ˆè¾“å‡ºç»“æœã€‚

```python
@dataclass
class DualTimeframeResult:
    short_term: TimeframeConclusion   # çŸ­æœŸç»“è®º
    medium_term: TimeframeConclusion  # ä¸­é•¿æœŸç»“è®º
    alignment: AlignmentAnalysis      # ä¸€è‡´æ€§åˆ†æ
    symbol: str
    timestamp: datetime
    risk_exposure_allowed: bool       # å…¨å±€é£é™©å‡†å…¥
    global_risk_tags: List[ReasonTag]
```

---

## ğŸ¯ æšä¸¾å®šä¹‰

### AlignmentTypeï¼ˆä¸€è‡´æ€§ç±»å‹ï¼‰

```python
class AlignmentType(Enum):
    BOTH_LONG = "both_long"                    # ä¸€è‡´çœ‹å¤š
    BOTH_SHORT = "both_short"                  # ä¸€è‡´çœ‹ç©º
    BOTH_NO_TRADE = "both_no_trade"            # ä¸€è‡´ä¸äº¤æ˜“
    CONFLICT_LONG_SHORT = "conflict_long_short"  # å†²çªï¼šçŸ­æœŸå¤š/ä¸­é•¿æœŸç©º
    CONFLICT_SHORT_LONG = "conflict_short_long"  # å†²çªï¼šçŸ­æœŸç©º/ä¸­é•¿æœŸå¤š
    PARTIAL_LONG = "partial_long"              # éƒ¨åˆ†çœ‹å¤š
    PARTIAL_SHORT = "partial_short"            # éƒ¨åˆ†çœ‹ç©º
```

### ConflictResolutionï¼ˆå†²çªå¤„ç†ç­–ç•¥ï¼‰

```python
class ConflictResolution(Enum):
    FOLLOW_MEDIUM_TERM = "follow_medium_term"      # è·Ÿéšä¸­é•¿æœŸï¼ˆæ›´ç¨³å¥ï¼‰
    FOLLOW_SHORT_TERM = "follow_short_term"        # è·ŸéšçŸ­æœŸï¼ˆæ›´æ¿€è¿›ï¼‰
    NO_TRADE = "no_trade"                          # å†²çªæ—¶ä¸äº¤æ˜“ï¼ˆæœ€ä¿å®ˆï¼‰
    FOLLOW_HIGHER_CONFIDENCE = "follow_higher_confidence"  # è·Ÿéšç½®ä¿¡åº¦æ›´é«˜çš„ä¸€æ–¹
```

---

## âš™ï¸ é…ç½®é¡¹

### `config/l1_thresholds.yaml`

```yaml
dual_timeframe:
  enabled: true
  
  # çŸ­æœŸè¯„ä¼°ï¼ˆ5m/15mï¼‰é˜ˆå€¼
  short_term:
    min_price_change_15m: 0.003    # 0.3%
    min_taker_imbalance: 0.40      # 40%
    min_volume_ratio: 1.2          # 1.2å€
    required_signals: 3            # 4é€‰3è§¦å‘
  
  # å†²çªå¤„ç†ç­–ç•¥
  conflict_resolution:
    default_strategy: "no_trade"   # no_trade | follow_medium_term | follow_short_term | follow_higher_confidence
  
  # ä¸€è‡´æ€§åŠ æˆ
  alignment_bonus:
    confidence_boost: 1            # æå‡1æ¡£
    relax_executable_threshold: false
```

---

## ğŸ”„ å†³ç­–æµç¨‹

### 1. å…¨å±€é£é™©è¯„ä¼°

```
æ•°æ®éªŒè¯ â†’ å¸‚åœºç¯å¢ƒè¯†åˆ« â†’ å…¨å±€é£é™©æ£€æŸ¥
                                â†“
                          EXTREME / é£é™©æ‹’ç»ï¼Ÿ
                                â†“ YES
                    è¿”å›åŒNO_TRADEç»“æœ
                                â†“ NO
                        ç»§ç»­åŒå‘¨æœŸè¯„ä¼°
```

### 2. çŸ­æœŸè¯„ä¼°ï¼ˆ5m/15mï¼‰

**æ•°æ®æº**ï¼š
- `price_change_5m`, `price_change_15m`
- `taker_imbalance_5m`, `taker_imbalance_15m`
- `volume_ratio_5m`, `volume_ratio_15m`

**ä¿¡å·åˆ¤æ–­**ï¼ˆ4é€‰Nï¼‰ï¼š
- âœ… 15mä»·æ ¼å˜åŒ– > 0.3%
- âœ… 15m takerå¤±è¡¡ > 40%
- âœ… 15mæ”¾é‡æ¯”ç‡ > 1.2x
- âœ… 5mç¡®è®¤ï¼ˆä»·æ ¼ + å¤±è¡¡åŒå‘ï¼‰

**å†³ç­–**ï¼š
- LONG: `long_signals >= 3` ä¸” `long_signals > short_signals`
- SHORT: `short_signals >= 3` ä¸” `short_signals > long_signals`
- NO_TRADE: ä¿¡å·ä¸è¶³

### 3. ä¸­é•¿æœŸè¯„ä¼°ï¼ˆ1h/6hï¼‰

**æ•°æ®æº**ï¼š
- `price_change_1h`, `price_change_6h`
- `oi_change_1h`, `oi_change_6h`
- `buy_sell_imbalance`, `funding_rate`

**æ–¹å‘åˆ¤æ–­**ï¼š
- å¤ç”¨ç°æœ‰çš„ `_eval_long_direction()` å’Œ `_eval_short_direction()`
- åŒ…å«èµ„é‡‘è´¹ç‡é™çº§ã€OIè¾…åŠ©åˆ¤æ–­ç­‰æˆç†Ÿé€»è¾‘

### 4. ä¸€è‡´æ€§åˆ†æ

| çŸ­æœŸ | ä¸­é•¿æœŸ | ä¸€è‡´æ€§ç±»å‹ | å¤„ç†ç­–ç•¥ |
|------|--------|-----------|---------|
| LONG | LONG | BOTH_LONG | âœ… ä¸€è‡´ï¼Œå¯æ‰§è¡Œ |
| SHORT | SHORT | BOTH_SHORT | âœ… ä¸€è‡´ï¼Œå¯æ‰§è¡Œ |
| LONG | SHORT | CONFLICT_LONG_SHORT | âš ï¸ å†²çªï¼ŒæŒ‰é…ç½®å¤„ç† |
| SHORT | LONG | CONFLICT_SHORT_LONG | âš ï¸ å†²çªï¼ŒæŒ‰é…ç½®å¤„ç† |
| LONG | NO_TRADE | PARTIAL_LONG | âš ï¸ éƒ¨åˆ†ç¡®è®¤ï¼Œé™çº§ |
| NO_TRADE | LONG | PARTIAL_LONG | ä¸­é•¿æœŸä¿¡å·ï¼Œç­‰å¾…çŸ­æœŸç¡®è®¤ |

---

## ğŸ“¡ APIæ¥å£

### æ–°å¢ç«¯ç‚¹

```
GET /api/l1/advisory-dual/{symbol}
```

**Response**:

```json
{
  "success": true,
  "data": {
    "short_term": {
      "timeframe": "short_term",
      "timeframe_label": "5m/15m",
      "decision": "long",
      "confidence": "high",
      "executable": true,
      "market_regime": "trend",
      "trade_quality": "good",
      "execution_permission": "allow",
      "reason_tags": ["strong_buy_pressure", "short_term_price_surge"],
      "key_metrics": {
        "price_change_5m": 0.005,
        "price_change_15m": 0.008,
        "taker_imbalance_15m": 0.60
      }
    },
    "medium_term": {
      "timeframe": "medium_term",
      "timeframe_label": "1h/6h",
      "decision": "long",
      "confidence": "medium",
      "executable": false,
      "market_regime": "trend",
      "trade_quality": "uncertain",
      "execution_permission": "allow_reduced",
      "reason_tags": ["trend_long", "oi_growing"],
      "key_metrics": {
        "price_change_1h": 0.02,
        "price_change_6h": 0.05,
        "oi_change_1h": 0.015
      }
    },
    "alignment": {
      "is_aligned": true,
      "alignment_type": "both_long",
      "has_conflict": false,
      "conflict_resolution": null,
      "resolution_reason": "",
      "recommended_action": "long",
      "recommended_confidence": "high",
      "recommendation_notes": "âœ… åŒå‘¨æœŸä¸€è‡´çœ‹å¤šï¼Œä¿¡å·å¼ºåº¦é«˜"
    },
    "symbol": "BTC",
    "timestamp": "2026-01-21T15:30:45.123456",
    "risk_exposure_allowed": true,
    "global_risk_tags": [],
    
    // å‘åå…¼å®¹å­—æ®µ
    "decision": "long",
    "confidence": "high",
    "executable": true,
    "reason_tags": ["strong_buy_pressure", "trend_long", "oi_growing"],
    "market_regime": "trend"
  }
}
```

---

## ğŸ–¥ï¸ Webç•Œé¢

### æ–°å¢é¡µé¢

```
http://localhost:8001/dual
```

**åŠŸèƒ½**ï¼š
- å·¦å³åˆ†æ å±•ç¤ºçŸ­æœŸå’Œä¸­é•¿æœŸç»“è®º
- åº•éƒ¨å±•ç¤ºä¸€è‡´æ€§åˆ†æå’Œç»¼åˆå»ºè®®
- å®æ—¶åˆ·æ–°ï¼ˆ30ç§’ï¼‰
- æ”¯æŒå¤šå¸ç§åˆ‡æ¢

---

## ğŸ§ª æµ‹è¯•è¦†ç›–

### æµ‹è¯•æ–‡ä»¶

`tests/test_pr_dual_timeframe.py`

**æµ‹è¯•ç”¨ä¾‹**ï¼š

1. âœ… `test_dual_both_long()` - åŒå‘¨æœŸä¸€è‡´çœ‹å¤š
2. âœ… `test_dual_both_short()` - åŒå‘¨æœŸä¸€è‡´çœ‹ç©º
3. âœ… `test_dual_conflict_long_short()` - çŸ­æœŸå¤š/ä¸­é•¿æœŸç©ºå†²çª
4. âœ… `test_dual_partial_long()` - ä»…çŸ­æœŸçœ‹å¤š
5. âœ… `test_dual_global_risk_denial()` - å…¨å±€é£é™©æ‹’ç»
6. âœ… `test_dual_backward_compatibility()` - å‘åå…¼å®¹æ€§

**è¿è¡Œæµ‹è¯•**ï¼š

```bash
# æœ¬åœ°
python tests/test_pr_dual_timeframe.py

# Docker
docker exec l1-advisory-layer python tests/test_pr_dual_timeframe.py
```

---

## ğŸš€ ä½¿ç”¨ç¤ºä¾‹

### Pythonä»£ç 

```python
from market_state_machine_l1 import L1AdvisoryEngine

engine = L1AdvisoryEngine()

# å‡†å¤‡å¸‚åœºæ•°æ®ï¼ˆéœ€åŒ…å«å¤šå‘¨æœŸæ•°æ®ï¼‰
data = {
    'price': 50000,
    'timestamp': 1234567890,
    # çŸ­æœŸæ•°æ®
    'price_change_5m': 0.005,
    'price_change_15m': 0.008,
    'taker_imbalance_5m': 0.50,
    'taker_imbalance_15m': 0.60,
    'volume_ratio_5m': 1.5,
    'volume_ratio_15m': 1.8,
    # ä¸­é•¿æœŸæ•°æ®
    'price_change_1h': 0.02,
    'price_change_6h': 0.05,
    'oi_change_1h': 0.015,
    'oi_change_6h': 0.03,
    'buy_sell_imbalance': 0.40,
    'funding_rate': 0.0001,
    'volume_1h': 1000000,
    'volume_24h': 20000000,
}

# è°ƒç”¨åŒå‘¨æœŸå†³ç­–
result = engine.on_new_tick_dual('BTC', data)

# æŸ¥çœ‹ç»“æœ
print(result.get_summary())
# è¾“å‡º: çŸ­æœŸ(5m/15m): LONG | ä¸­é•¿æœŸ(1h/6h): LONG | âœ… ä¸€è‡´ (both_long) | å¯æ‰§è¡Œ

# è®¿é—®å„éƒ¨åˆ†
print(f"çŸ­æœŸå†³ç­–: {result.short_term.decision.value}")
print(f"ä¸­é•¿æœŸå†³ç­–: {result.medium_term.decision.value}")
print(f"ç»¼åˆå»ºè®®: {result.alignment.recommended_action.value}")
print(f"ä¸€è‡´æ€§: {result.alignment.is_aligned}")
```

### APIè°ƒç”¨

```bash
# è·å–BTCçš„åŒå‘¨æœŸå†³ç­–
curl http://localhost:8001/api/l1/advisory-dual/BTC | python3 -m json.tool
```

---

## ğŸ“Š å†²çªå¤„ç†ç­–ç•¥å¯¹æ¯”

| ç­–ç•¥ | é€‚ç”¨åœºæ™¯ | é£é™©ç­‰çº§ | è¯´æ˜ |
|------|---------|---------|------|
| `no_trade` | ä¿å®ˆå‹äº¤æ˜“è€… | ğŸŸ¢ ä½ | å†²çªæ—¶ä¸äº¤æ˜“ï¼Œç­‰å¾…ä¸€è‡´ï¼ˆé»˜è®¤ï¼‰ |
| `follow_medium_term` | è¶‹åŠ¿äº¤æ˜“è€… | ğŸŸ¡ ä¸­ | è·Ÿéšä¸­é•¿æœŸè¶‹åŠ¿ï¼Œå¿½ç•¥çŸ­æœŸæ³¢åŠ¨ |
| `follow_short_term` | æ—¥å†…äº¤æ˜“è€… | ğŸ”´ é«˜ | æ•æ‰çŸ­æœŸæœºä¼šï¼Œå¯èƒ½é€†è¶‹åŠ¿ |
| `follow_higher_confidence` | çµæ´»å‹äº¤æ˜“è€… | ğŸŸ¡ ä¸­ | è·Ÿéšç½®ä¿¡åº¦æ›´é«˜çš„ä¸€æ–¹ |

**é…ç½®ä¿®æ”¹**ï¼š

```yaml
# config/l1_thresholds.yaml
dual_timeframe:
  conflict_resolution:
    default_strategy: "follow_medium_term"  # ä¿®æ”¹ä¸ºè·Ÿéšä¸­é•¿æœŸ
```

---

## ğŸ”„ å‘åå…¼å®¹

### ç°æœ‰APIä¸å—å½±å“

- âœ… `/api/l1/advisory/{symbol}` ç»§ç»­ä½¿ç”¨å•ä¸€å†³ç­–æµç¨‹
- âœ… ç°æœ‰å‰ç«¯é¡µé¢ `/` ä¸å—å½±å“
- âœ… æ•°æ®åº“ç»“æ„ä¸å˜ï¼ˆåŒå‘¨æœŸç»“æœä¸æŒä¹…åŒ–ï¼‰

### è¿ç§»è·¯å¾„

1. **é˜¶æ®µ1**ï¼ˆå½“å‰ï¼‰ï¼šåŒå‘¨æœŸAPIå’ŒUIç‹¬ç«‹è¿è¡Œï¼Œç°æœ‰ç³»ç»Ÿä¸å˜
2. **é˜¶æ®µ2**ï¼ˆæœªæ¥ï¼‰ï¼šæ ¹æ®å›æµ‹ç»“æœï¼Œå†³å®šæ˜¯å¦æ›¿æ¢å•ä¸€å†³ç­–
3. **é˜¶æ®µ3**ï¼ˆå¯é€‰ï¼‰ï¼šç»Ÿä¸€ä¸ºåŒå‘¨æœŸè¾“å‡ºï¼Œæ—§APIè¿”å›å…¼å®¹æ ¼å¼

---

## ğŸ“ å¾…åŠäº‹é¡¹

### å·²å®Œæˆ âœ…

- [x] æ•°æ®ç»“æ„è®¾è®¡ï¼ˆTimeframeConclusion, AlignmentAnalysis, DualTimeframeResultï¼‰
- [x] æšä¸¾å®šä¹‰ï¼ˆAlignmentType, ConflictResolutionï¼‰
- [x] æ ¸å¿ƒå¼•æ“æ–¹æ³•ï¼ˆ`on_new_tick_dual()`ï¼‰
- [x] çŸ­æœŸè¯„ä¼°é€»è¾‘ï¼ˆ`_evaluate_short_term()`ï¼‰
- [x] ä¸­é•¿æœŸè¯„ä¼°é€»è¾‘ï¼ˆ`_evaluate_medium_term()`ï¼‰
- [x] ä¸€è‡´æ€§åˆ†æï¼ˆ`_analyze_alignment()`ï¼‰
- [x] APIç«¯ç‚¹ï¼ˆ`/api/l1/advisory-dual/{symbol}`ï¼‰
- [x] é…ç½®é¡¹ï¼ˆ`dual_timeframe` sectionï¼‰
- [x] æµ‹è¯•ç”¨ä¾‹ï¼ˆ`test_pr_dual_timeframe.py`ï¼‰
- [x] Web UIï¼ˆ`index_l1_dual.html`ï¼‰
- [x] æ–‡æ¡£ï¼ˆæœ¬æ–‡æ¡£ï¼‰

### å¾…éªŒè¯ ğŸ”„

- [ ] ç”Ÿäº§ç¯å¢ƒæµ‹è¯•ï¼ˆAWSéƒ¨ç½²ï¼‰
- [ ] å¤šå¸ç§éªŒè¯ï¼ˆBTC, ETH, SOLç­‰ï¼‰
- [ ] ä¸åŒå†²çªç­–ç•¥çš„å›æµ‹å¯¹æ¯”
- [ ] æ€§èƒ½æµ‹è¯•ï¼ˆåŒå‘¨æœŸè®¡ç®—è€—æ—¶ï¼‰

### æœªæ¥ä¼˜åŒ– ğŸ’¡

- [ ] æ•°æ®åº“æŒä¹…åŒ–åŒå‘¨æœŸç»“æœï¼ˆå¯é€‰ï¼‰
- [ ] å†å²ä¸€è‡´æ€§åˆ†æç»Ÿè®¡
- [ ] å†²çªé¢‘ç‡ç›‘æ§
- [ ] è‡ªé€‚åº”å†²çªç­–ç•¥ï¼ˆæ ¹æ®å†å²è¡¨ç°åŠ¨æ€è°ƒæ•´ï¼‰

---

## ğŸ¯ æ€»ç»“

PR-DUALå®ç°äº†L1è®¾è®¡åŸåˆ™ä¸­çš„æ ¸å¿ƒè¦æ±‚ï¼š

1. âœ… **åŒå‘¨æœŸç‹¬ç«‹è¯„ä¼°**ï¼šçŸ­æœŸå’Œä¸­é•¿æœŸå„è‡ªç‹¬ç«‹è®¡ç®—
2. âœ… **ä¸€è‡´æ€§åˆ†æ**ï¼šæ˜ç¡®è¯´æ˜æ˜¯å¦ä¸€è‡´ã€æ˜¯å¦å†²çª
3. âœ… **å†²çªå¤„ç†è§„åˆ™**ï¼š4ç§ç­–ç•¥å¯é…ç½®
4. âœ… **å‘åå…¼å®¹**ï¼šç°æœ‰ç³»ç»Ÿä¸å—å½±å“
5. âœ… **å¯è¿½æº¯æ€§**ï¼šæ¯ä¸ªå‘¨æœŸéƒ½æœ‰reason_tagså’Œkey_metrics
6. âœ… **å·¥ç¨‹åŒ–**ï¼šå®Œæ•´çš„æµ‹è¯•ã€æ–‡æ¡£ã€UI

**è®¾è®¡äº®ç‚¹**ï¼š

- ğŸ¯ **æ¸…æ™°çš„èŒè´£åˆ†ç¦»**ï¼šçŸ­æœŸæ•æ‰å¿«é€Ÿæœºä¼šï¼Œä¸­é•¿æœŸè·Ÿéšè¶‹åŠ¿
- ğŸ›¡ï¸ **å®‰å…¨ä¼˜å…ˆ**ï¼šå…¨å±€é£é™©æ‹’ç»ä¼˜å…ˆäºåŒå‘¨æœŸè¯„ä¼°
- âš™ï¸ **é«˜åº¦å¯é…ç½®**ï¼šé˜ˆå€¼ã€ç­–ç•¥éƒ½å¯å¤–éƒ¨åŒ–é…ç½®
- ğŸ“Š **å¯è§†åŒ–å‹å¥½**ï¼šä¸“ç”¨UIç›´è§‚å±•ç¤ºåŒå‘¨æœŸç»“è®º
- ğŸ§ª **æµ‹è¯•å®Œå¤‡**ï¼šè¦†ç›–ä¸€è‡´ã€å†²çªã€éƒ¨åˆ†ç¡®è®¤ç­‰åœºæ™¯

---

**ç‰ˆæœ¬å†å²**ï¼š

- **v1.0** (2026-01-21): åˆå§‹å®ç°ï¼Œå®Œæˆæ ¸å¿ƒåŠŸèƒ½å’Œæµ‹è¯•
