# 🌐 BTC行情数据Web应用使用说明

## 🎉 Web应用已成功创建！

### ✅ 已完成的功能

- **实时价格展示** - 大号显示当前BTC价格
- **24小时统计** - 涨跌幅、最高价、最低价、成交量等
- **K线走势图** - 可切换不同时间间隔（15分钟、1小时、4小时、1天）
- **订单深度** - 买卖盘数据实时更新
- **最近成交** - 实时成交记录
- **多币种对比** - 8个主流币种的行情对比
- **自动刷新** - 每10秒自动更新数据

---

## 🚀 如何启动

### 方法一：直接运行（推荐）

```bash
cd /Users/wangqiang/learning/cursor-project
source venv/bin/activate
python3 btc_web_app.py
```

### 方法二：使用nohup后台运行

```bash
cd /Users/wangqiang/learning/cursor-project
source venv/bin/activate
nohup python3 btc_web_app.py > web_app.log 2>&1 &
```

---

## 🌐 如何访问

启动服务后，在浏览器中打开以下任一地址：

- **本地访问**: http://localhost:5000
- **本地访问**: http://127.0.0.1:5000
- **局域网访问**: http://192.168.1.26:5000 （你的局域网IP）

**注意**：服务器现在已经在后台运行！

---

## 📊 页面功能说明

### 1. 主要数据卡片（顶部）

显示6个核心指标：
- 💰 **当前价格** - 实时BTC价格（紫色渐变卡片）
- 📊 **24h涨跌** - 涨跌额和涨跌幅百分比
- 📈 **24h最高** - 24小时内最高价
- 📉 **24h最低** - 24小时内最低价
- 💹 **24h成交量** - BTC成交数量
- 💵 **24h成交额** - USDT成交金额

### 2. K线走势图

- 默认显示1小时K线
- 可切换时间间隔：15分钟、1小时、4小时、1天
- 鼠标悬停可查看详细数据
- 支持缩放和拖动

### 3. 订单深度（左下）

- 🔴 **卖单 (Ask)** - 挂单卖出的价格和数量
- 🟢 **买单 (Bid)** - 挂单买入的价格和数量
- 显示前10档数据
- 实时更新

### 4. 最近成交（右下）

- 显示最近20笔成交
- 🟢 绿色表示买入
- 🔴 红色表示卖出
- 显示时间、价格、数量

### 5. 多币种行情（底部）

显示8个主流币种：
- BTC, ETH, BNB, SOL
- XRP, ADA, DOGE, DOT

每个币种显示：
- 当前价格
- 24小时涨跌幅（绿色↑红色↓）

---

## 🔄 自动更新说明

页面数据会自动刷新，无需手动刷新浏览器：

- **主要数据** - 每10秒更新一次
- **订单深度** - 每10秒更新一次
- **最近成交** - 每10秒更新一次
- **多币种行情** - 每10秒更新一次
- **K线图表** - 每30秒更新一次

你也可以点击右上角的 **🔄 刷新** 按钮手动刷新所有数据。

---

## 🎨 界面特点

### 美观的设计
- 紫色渐变主题
- 卡片式布局
- 响应式设计（支持手机访问）
- 悬停动画效果

### 数据可视化
- 使用Chart.js绘制K线图
- 涨跌用颜色区分（绿涨红跌）
- 表格数据清晰易读

### 用户体验
- 自动更新，无需刷新
- 加载动画
- 错误处理
- 平滑过渡效果

---

## 📱 移动端访问

本Web应用支持响应式设计，可以在手机和平板上完美显示：

1. 确保手机和电脑在同一局域网
2. 在手机浏览器中访问：http://你的电脑IP:5000
3. 例如：http://192.168.1.26:5000

---

## 🛠️ API接口说明

如果你想在其他程序中使用这些数据，可以直接调用API：

### 获取当前价格
```
GET http://localhost:5000/api/price
```

### 获取24小时统计
```
GET http://localhost:5000/api/ticker
```

### 获取订单深度
```
GET http://localhost:5000/api/orderbook?limit=10
```

### 获取最近成交
```
GET http://localhost:5000/api/trades?limit=20
```

### 获取K线数据
```
GET http://localhost:5000/api/klines?interval=1h&limit=24
```

### 获取多币种数据
```
GET http://localhost:5000/api/multi-symbols
```

所有API都返回JSON格式数据。

---

## 🔧 停止服务

### 如果是在前台运行

直接按 `Ctrl+C` 即可停止。

### 如果是在后台运行

```bash
# 查找进程
ps aux | grep btc_web_app.py

# 停止进程
kill <进程ID>

# 或者一键停止
pkill -f btc_web_app.py
```

---

## ⚠️ 注意事项

### 1. 端口占用
如果5000端口被占用，修改 `btc_web_app.py` 最后一行：
```python
app.run(debug=True, host='0.0.0.0', port=8080)  # 改为8080或其他端口
```

### 2. 防火墙设置
如果局域网其他设备无法访问，需要开放5000端口：
```bash
# macOS
sudo pfctl -e
```

### 3. 网络要求
- 需要能访问币安API（api.binance.com）
- 如果在中国大陆，可能需要使用代理

### 4. 性能建议
- 不要同时打开太多页面
- 每个页面都会每10秒请求一次API
- 建议同时访问页面不超过5个

---

## 🎯 使用场景

### 场景1：桌面监控
在电脑上打开浏览器，全屏显示，实时监控BTC行情。

### 场景2：多屏显示
在多个显示器上分别显示不同的数据。

### 场景3：团队共享
部署在局域网服务器上，团队成员都可以访问。

### 场景4：移动监控
在手机上随时查看行情。

---

## 🚀 进阶使用

### 部署到服务器

如果想让外网也能访问，可以部署到云服务器：

1. **购买云服务器**（阿里云、腾讯云等）
2. **上传代码**
3. **安装依赖**
```bash
pip install -r requirements.txt
```
4. **使用Gunicorn运行**（生产环境）
```bash
pip install gunicorn
gunicorn -w 4 -b 0.0.0.0:5000 btc_web_app:app
```
5. **配置Nginx反向代理**（可选）

### 添加HTTPS

使用Let's Encrypt免费证书：
```bash
# 安装certbot
sudo apt-get install certbot

# 获取证书
sudo certbot certonly --standalone -d yourdomain.com

# 配置Flask使用证书
```

---

## 📸 界面预览

启动后你会看到：

```
┌─────────────────────────────────────────┐
│   🚀 BTC行情数据监控中心                  │
│   最后更新: 17:50:30  🔄 刷新            │
└─────────────────────────────────────────┘

┌────────┬────────┬────────┬────────┬────────┬────────┐
│ 💰当前  │ 📊涨跌  │ 📈最高  │ 📉最低  │ 💹成交量 │ 💵成交额 │
│ 价格    │        │        │        │        │        │
│$95,270 │+2.5%   │$95,809 │$94,293 │8,250   │784M    │
└────────┴────────┴────────┴────────┴────────┴────────┘

┌─────────────────────────────────────────┐
│ 📈 K线走势图                             │
│ [15m] [1h] [4h] [1d]                    │
│                                         │
│      [Chart.js 图表]                    │
│                                         │
└─────────────────────────────────────────┘

┌──────────────────┬──────────────────────┐
│ 📖 订单深度       │ 💹 最近成交           │
│                  │                      │
│ 🔴 卖单          │ 时间    价格   方向   │
│ 95,225  0.048   │ 17:50  95,270  🟢买   │
│ ...             │ ...                  │
│                  │                      │
│ 🟢 买单          │                      │
│ 95,224  4.521   │                      │
│ ...             │                      │
└──────────────────┴──────────────────────┘

┌─────────────────────────────────────────┐
│ 🌐 多币种行情                            │
│                                         │
│ [BTC]  [ETH]  [BNB]  [SOL]             │
│ [XRP]  [ADA]  [DOGE] [DOT]             │
│                                         │
└─────────────────────────────────────────┘
```

---

## 💡 小技巧

1. **F11全屏** - 按F11进入全屏模式，获得最佳监控体验
2. **添加书签** - 将页面添加到浏览器书签，方便快速访问
3. **多标签页** - 可以打开多个标签页，每个显示不同的K线周期
4. **截图分享** - 直接截图分享给朋友
5. **打印报表** - 可以打印页面作为市场分析报告

---

## 🎓 技术栈

- **后端**: Flask (Python)
- **前端**: HTML5 + CSS3 + JavaScript
- **图表**: Chart.js
- **数据源**: 币安API
- **实时更新**: AJAX轮询

---

## 📞 技术支持

如有问题：
- 查看终端输出日志
- 检查浏览器控制台（F12）
- 查看 `web_app.log` 日志文件（如果使用nohup）

---

**祝你使用愉快！📈**

**提示**: 当前服务器已在后台运行，访问 http://localhost:5000 即可查看！
